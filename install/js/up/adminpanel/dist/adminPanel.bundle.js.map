{"version":3,"file":"adminPanel.bundle.js","sources":["../src/adminPanel.js"],"sourcesContent":["import {Type} from 'main.core';\n\nexport class AdminPanel\n{\n\t#itemsPerPage = 3\n\t#usersPage = 0\n\t#subjectsPage = 0\n\t#edFormatsPage = 0\n\t#citiesPage = 0\n\tconstructor(options = {})\n\t{\n\t\tif (!Type.isStringFilled(options.buttonsContainerID)) {\n\t\t\tthrow new Error('Feedbacks: \"buttonsContainerID\" is required')\n\t\t}\n\n\t\tthis.buttonsContainer = document.getElementById(options.buttonsContainerID)\n\n\t\tif (!this.buttonsContainer) {\n\t\t\tthrow new Error(`Feedbacks: element with ID \"${options.buttonsContainerID}\" not found`)\n\t\t}\n\n\n\t\tif (!Type.isStringFilled(options.dataAreaID)) {\n\t\t\tthrow new Error('Feedbacks: \"buttonsContainerID\" is required')\n\t\t}\n\n\t\tthis.dataArea = document.getElementById(options.dataAreaID)\n\n\t\tif (!this.dataArea) {\n\t\t\tthrow new Error(`Feedbacks: element with ID \"${options.dataAreaID}\" not found`)\n\t\t}\n\n\t\tif (!Type.isStringFilled(options.userButtonID)) {\n\t\t\tthrow new Error('Feedbacks: \"userButtonID\" is required')\n\t\t}\n\n\t\tthis.userButton = document.getElementById(options.userButtonID)\n\n\t\tif (!this.userButton) {\n\t\t\tthrow new Error(`Feedbacks: element with ID \"${options.userButtonID}\" not found`)\n\t\t}\n\n\t\tthis.userButton.onclick = () => {this.#loadUsers()}\n\n\t\tif (!Type.isStringFilled(options.subjectsButtonID)) {\n\t\t\tthrow new Error('Feedbacks: \"userButtonID\" is required')\n\t\t}\n\n\t\tthis.subjectsButton = document.getElementById(options.subjectsButtonID)\n\n\t\tif (!this.subjectsButton) {\n\t\t\tthrow new Error(`Feedbacks: element with ID \"${options.subjectsButtonID}\" not found`)\n\t\t}\n\n\t\tthis.subjectsButton.onclick = () => {this.#loadSubjects()}\n\n\n\t\tif (!Type.isStringFilled(options.edFormatsButtonID)) {\n\t\t\tthrow new Error('Feedbacks: \"userButtonID\" is required')\n\t\t}\n\n\t\tthis.edFormatsButton = document.getElementById(options.edFormatsButtonID)\n\n\t\tif (!this.edFormatsButton) {\n\t\t\tthrow new Error(`Feedbacks: element with ID \"${options.edFormatsButtonID}\" not found`)\n\t\t}\n\n\t\tthis.edFormatsButton.onclick = () => {this.#loadEdFormats()}\n\n\n\t\tif (!Type.isStringFilled(options.citiesButtonID)) {\n\t\t\tthrow new Error('Feedbacks: \"userButtonID\" is required')\n\t\t}\n\n\t\tthis.citiesButton = document.getElementById(options.citiesButtonID)\n\n\t\tif (!this.citiesButton) {\n\t\t\tthrow new Error(`Feedbacks: element with ID \"${options.citiesButtonID}\" not found`)\n\t\t}\n\n\t\tthis.citiesButton.onclick = () => {this.#loadCities()}\n\t}\n\n\t#loadUsers()\n\t{\n\t\tfor (let i = 0; i < this.buttonsContainer.children.length; i++) {\n\t\t\tthis.buttonsContainer.children[i].classList.remove('menu-button-active')\n\t\t}\n\t\tthis.userButton.classList.add('menu-button-active')\n\t}\n\n\t#loadSubjects()\n\t{\n\t\tfor (let i = 0; i < this.buttonsContainer.children.length; i++) {\n\t\t\tthis.buttonsContainer.children[i].classList.remove('menu-button-active')\n\t\t}\n\t\tthis.subjectsButton.classList.add('menu-button-active')\n\n\t\tBX.ajax.get(\n\t\t\t'/admin/subjects/',\n\t\t\t{\n\t\t\t\tpage: this.#subjectsPage,\n\t\t\t\titemsPerPage: this.#itemsPerPage,\n\t\t\t},\n\t\t\t(res) => {\n\t\t\t\tthis.#displaySubjects(JSON.parse(res))\n\t\t\t\tconsole.log(res)\n\t\t\t}\n\t\t)\n\t}\n\n\t#displaySubjects(res)\n\t{\n\t\tthis.#displayIDNameElements(res, 'subject-', () => {\n\n\t\t})\n\t}\n\n\t#loadEdFormats()\n\t{\n\t\tfor (let i = 0; i < this.buttonsContainer.children.length; i++) {\n\t\t\tthis.buttonsContainer.children[i].classList.remove('menu-button-active')\n\t\t}\n\t\tthis.edFormatsButton.classList.add('menu-button-active')\n\n\t\tBX.ajax.get(\n\t\t\t'/admin/edFormats/',\n\t\t\t{\n\t\t\t\tpage: this.#edFormatsPage,\n\t\t\t\titemsPerPage: this.#itemsPerPage,\n\t\t\t},\n\t\t\t(res) => {\n\t\t\t\tconsole.log(res)\n\t\t\t\tthis.#displayEdFormats(JSON.parse(res))\n\t\t\t}\n\t\t)\n\t}\n\n\t#displayEdFormats(res)\n\t{\n\t\tthis.#displayIDNameElements(res, 'ed-format-', () => {\n\n\t\t})\n\t}\n\n\t#loadCities()\n\t{\n\t\tfor (let i = 0; i < this.buttonsContainer.children.length; i++) {\n\t\t\tthis.buttonsContainer.children[i].classList.remove('menu-button-active')\n\t\t}\n\t\tthis.citiesButton.classList.add('menu-button-active')\n\n\t\tBX.ajax.get(\n\t\t\t'/admin/cities/',\n\t\t\t{\n\t\t\t\tpage: this.#citiesPage,\n\t\t\t\titemsPerPage: this.#itemsPerPage,\n\t\t\t},\n\t\t\t(res) => {\n\t\t\t\tconsole.log(res)\n\t\t\t\tthis.#displayCities(JSON.parse(res))\n\t\t\t}\n\t\t)\n\t}\n\n\t#displayCities(res)\n\t{\n\t\tthis.#displayIDNameElements(res, 'city-', () => {\n\n\t\t})\n\t}\n\n\t#displayIDNameElements(res, IDPrefix, callback)\n\t{\n\t\twhile (this.dataArea.lastChild) {\n\t\t\tthis.dataArea.lastChild.remove()\n\t\t}\n\n\t\tlet elements = []\n\n\t\tfor (let i = 0; i <  res.length; i++) {\n\t\t\telements.push(this.#createTableElement(res[i]['ID'], res[i]['NAME'], IDPrefix))\n\t\t}\n\n\t\telements.reverse()\n\n\t\telements.forEach((elem) => {\n\t\t\tthis.dataArea.appendChild(elem)\n\t\t})\n\n\t\tthis.dataArea.appendChild(this.#createAddButton(callback))\n\t}\n\n\t#createAddButton(callback)\n\t{\n\t\tlet addButton = document.createElement('button')\n\t\taddButton.innerText = 'Add'\n\t\taddButton.style.margin = '0 5px'\n\t\taddButton.style.minHeight = '3rem'\n\t\taddButton.style.width = '5rem'\n\t\taddButton.style.backgroundColor = 'hsl(46,100%,56%)';\n\t\taddButton.addEventListener('mouseenter', () => {\n\t\t\taddButton.style.backgroundColor = 'hsl(46,100%,65%)';\n\t\t})\n\n\t\taddButton.addEventListener('mouseleave', () => {\n\t\t\taddButton.style.backgroundColor = 'hsl(46,100%,56%)';\n\t\t})\n\t\taddButton.style.border = 'none'\n\t\taddButton.style.borderRadius = '10px'\n\t\taddButton.onclick = () => {callback()}\n\t\treturn addButton\n\t}\n\n\t#createTableElement(ID, name, elemIDPrefix, role = null)\n\t{\n\t\tlet elem = document.createElement('div')\n\t\telem.classList.add('box')\n\t\telem.style.display = 'flex'\n\t\telem.style.justifyContent = 'space-between'\n\t\telem.style.alignItems = 'center'\n\t\telem.style.width = '100%'\n\t\telem.id = elemIDPrefix + ID\n\n\t\tlet elemID = document.createElement('div')\n\t\telemID.innerText = ID\n\n\t\telem.appendChild(elemID)\n\n\t\tlet elemName = document.createElement('div')\n\t\telemName.innerText = name\n\n\t\telem.appendChild(elemName)\n\n\n\t\tlet editDelContainer = document.createElement('div')\n\t\teditDelContainer.id = 'edit-del-container'\n\t\teditDelContainer.style.display = 'flex'\n\n\t\telem.appendChild(editDelContainer)\n\n\t\tlet editButton = document.createElement('button')\n\t\teditButton.innerText = 'Edit'\n\t\teditButton.style.margin = '0 5px'\n\t\teditButton.style.minHeight = '3rem'\n\t\teditButton.style.minWidth = '5rem'\n\t\teditButton.style.backgroundColor = 'hsl(187,100%,41%)';\n\t\teditButton.style.border = 'none'\n\t\teditButton.style.borderRadius = '10px'\n\n\t\teditButton.addEventListener('mouseenter', () => {\n\t\t\teditButton.style.backgroundColor = 'hsl(187,100%,60%)';\n\t\t})\n\n\t\teditButton.addEventListener('mouseleave', () => {\n\t\t\teditButton.style.backgroundColor = 'hsl(187,100%,41%)';\n\t\t})\n\n\t\teditDelContainer.appendChild(editButton)\n\n\t\tlet deleteButton = document.createElement('button')\n\t\tdeleteButton.innerText = 'Delete'\n\t\tdeleteButton.style.margin = '0 5px'\n\t\tdeleteButton.style.minHeight = '3rem'\n\t\tdeleteButton.style.minWidth = '5rem'\n\t\tdeleteButton.style.backgroundColor = 'hsl(348, 100%, 61%)';\n\t\tdeleteButton.style.border = 'none'\n\t\tdeleteButton.style.borderRadius = '10px'\n\n\t\tdeleteButton.addEventListener('mouseenter', () => {\n\t\t\tdeleteButton.style.backgroundColor = 'hsl(348, 100%, 70%)';\n\t\t})\n\n\t\tdeleteButton.addEventListener('mouseleave', () => {\n\t\t\tdeleteButton.style.backgroundColor = 'hsl(348, 100%, 61%)';\n\t\t})\n\n\t\teditDelContainer.appendChild(deleteButton)\n\n\t\tif (role === null) return elem\n\n\t\tlet elemRole = document.createElement('div')\n\t\telemRole.innerText = name\n\n\t\telem.appendChild(elemRole)\n\n\t\treturn elem\n\t}\n}"],"names":["i","this","buttonsContainer","children","length","classList","remove","userButton","add","subjectsButton","BX","ajax","get","page","itemsPerPage","res","_classPrivateMethodGet","_this2","JSON","parse","console","log","edFormatsButton","_this3","citiesButton","_this4","IDPrefix","callback","dataArea","lastChild","elements","push","reverse","forEach","elem","_this5","appendChild","addButton","document","createElement","innerText","style","margin","minHeight","width","backgroundColor","addEventListener","border","borderRadius","onclick","ID","name","elemIDPrefix","role","display","justifyContent","alignItems","id","elemID","elemName","editDelContainer","editButton","minWidth","deleteButton","elemRole","options","babelHelpers","_classPrivateMethodInitSpec","_classPrivateFieldInitSpec","writable","value","Type","isStringFilled","buttonsContainerID","Error","getElementById","dataAreaID","userButtonID","_this","subjectsButtonID","edFormatsButtonID","citiesButtonID"],"mappings":"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"}