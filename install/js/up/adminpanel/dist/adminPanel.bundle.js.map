{"version":3,"file":"adminPanel.bundle.js","sources":["../src/adminPanel.js"],"sourcesContent":["import {Type} from 'main.core';\n\nexport class AdminPanel\n{\n\t#itemsPerPage = 5\n\t#usersPage = 0\n\t#subjectsPage = 0\n\t#edFormatsPage = 0\n\t#citiesPage = 0\n\tconstructor(options = {})\n\t{\n\t\tif (!Type.isStringFilled(options.buttonsContainerID)) {\n\t\t\tthrow new Error('Feedbacks: \"buttonsContainerID\" is required')\n\t\t}\n\n\t\tthis.buttonsContainer = document.getElementById(options.buttonsContainerID)\n\n\t\tif (!this.buttonsContainer) {\n\t\t\tthrow new Error(`Feedbacks: element with ID \"${options.buttonsContainerID}\" not found`)\n\t\t}\n\n\n\t\tif (!Type.isStringFilled(options.dataAreaID)) {\n\t\t\tthrow new Error('Feedbacks: \"buttonsContainerID\" is required')\n\t\t}\n\n\t\tthis.dataArea = document.getElementById(options.dataAreaID)\n\n\t\tif (!this.dataArea) {\n\t\t\tthrow new Error(`Feedbacks: element with ID \"${options.dataAreaID}\" not found`)\n\t\t}\n\n\n\t\tif (!Type.isStringFilled(options.userButtonID)) {\n\t\t\tthrow new Error('Feedbacks: \"userButtonID\" is required')\n\t\t}\n\n\t\tthis.userButton = document.getElementById(options.userButtonID)\n\n\t\tif (!this.userButton) {\n\t\t\tthrow new Error(`Feedbacks: element with ID \"${options.userButtonID}\" not found`)\n\t\t}\n\n\t\tthis.userButton.onclick = () => {this.#loadUsers()}\n\n\n\t\tif (!Type.isStringFilled(options.subjectsButtonID)) {\n\t\t\tthrow new Error('Feedbacks: \"userButtonID\" is required')\n\t\t}\n\n\t\tthis.subjectsButton = document.getElementById(options.subjectsButtonID)\n\n\t\tif (!this.subjectsButton) {\n\t\t\tthrow new Error(`Feedbacks: element with ID \"${options.subjectsButtonID}\" not found`)\n\t\t}\n\n\t\tthis.subjectsButton.onclick = () => {this.#loadSubjects()}\n\n\n\t\tif (!Type.isStringFilled(options.edFormatsButtonID)) {\n\t\t\tthrow new Error('Feedbacks: \"userButtonID\" is required')\n\t\t}\n\n\t\tthis.edFormatsButton = document.getElementById(options.edFormatsButtonID)\n\n\t\tif (!this.edFormatsButton) {\n\t\t\tthrow new Error(`Feedbacks: element with ID \"${options.edFormatsButtonID}\" not found`)\n\t\t}\n\n\t\tthis.edFormatsButton.onclick = () => {this.#loadEdFormats()}\n\n\n\t\tif (!Type.isStringFilled(options.citiesButtonID)) {\n\t\t\tthrow new Error('Feedbacks: \"userButtonID\" is required')\n\t\t}\n\n\t\tthis.citiesButton = document.getElementById(options.citiesButtonID)\n\n\t\tif (!this.citiesButton) {\n\t\t\tthrow new Error(`Feedbacks: element with ID \"${options.citiesButtonID}\" not found`)\n\t\t}\n\n\t\tthis.citiesButton.onclick = () => {this.#loadCities()}\n\t}\n\n\t#loadUsers()\n\t{\n\t\tfor (let i = 0; i < this.buttonsContainer.children.length; i++) {\n\t\t\tthis.buttonsContainer.children[i].classList.remove('menu-button-active')\n\t\t}\n\t\tthis.userButton.classList.add('menu-button-active')\n\t}\n\n\t#loadSubjects()\n\t{\n\t\tfor (let i = 0; i < this.buttonsContainer.children.length; i++) {\n\t\t\tthis.buttonsContainer.children[i].classList.remove('menu-button-active')\n\t\t}\n\t\tthis.subjectsButton.classList.add('menu-button-active')\n\n\t\tBX.ajax.get(\n\t\t\t'/admin/subjects/',\n\t\t\t{\n\t\t\t\tpage: this.#subjectsPage,\n\t\t\t\titemsPerPage: this.#itemsPerPage,\n\t\t\t},\n\t\t\t(res) => {\n\t\t\t\tconsole.log(res)\n\t\t\t}\n\t\t)\n\t}\n\n\t#loadEdFormats()\n\t{\n\t\tfor (let i = 0; i < this.buttonsContainer.children.length; i++) {\n\t\t\tthis.buttonsContainer.children[i].classList.remove('menu-button-active')\n\t\t}\n\t\tthis.edFormatsButton.classList.add('menu-button-active')\n\n\t\tBX.ajax.get(\n\t\t\t'/admin/edFormats/',\n\t\t\t{\n\t\t\t\tpage: this.#edFormatsPage,\n\t\t\t\titemsPerPage: this.#itemsPerPage,\n\t\t\t},\n\t\t\t(res) => {\n\t\t\t\tconsole.log(res)\n\t\t\t}\n\t\t)\n\t}\n\n\t#loadCities()\n\t{\n\t\tfor (let i = 0; i < this.buttonsContainer.children.length; i++) {\n\t\t\tthis.buttonsContainer.children[i].classList.remove('menu-button-active')\n\t\t}\n\t\tthis.citiesButton.classList.add('menu-button-active')\n\n\t\tBX.ajax.get(\n\t\t\t'/admin/cities/',\n\t\t\t{\n\t\t\t\tpage: this.#citiesPage,\n\t\t\t\titemsPerPage: this.#itemsPerPage,\n\t\t\t},\n\t\t\t(res) => {\n\t\t\t\tconsole.log(res)\n\t\t\t\tthis.#displayCities(JSON.parse(res))\n\t\t\t}\n\t\t)\n\t}\n\n\t#displayCities(res)\n\t{\n\t\tthis.#displayIDNameElements(res, 'city-')\n\t}\n\n\t#displayIDNameElements(res, IDPrefix)\n\t{\n\t\twhile (this.dataArea.lastChild) {\n\t\t\tthis.dataArea.lastChild.remove()\n\t\t}\n\n\t\tfor (let i = 0; i <  res.length; i++) {\n\t\t\tthis.dataArea.appendChild(\n\t\t\t\tthis.#createTableElement(res[i]['ID'], res[i]['NAME'], IDPrefix)\n\t\t\t)\n\t\t}\n\t}\n\n\t#createTableElement(ID, name, elemIDPrefix, role = null)\n\t{\n\t\tlet elem = document.createElement('div')\n\t\telem.classList.add('box')\n\t\telem.style.display = 'flex'\n\t\telem.style.justifyContent = 'space-between'\n\t\telem.id = elemIDPrefix + ID\n\n\t\tlet elemID = document.createElement('div')\n\t\telemID.innerText = ID\n\n\t\telem.appendChild(elemID)\n\n\t\tlet elemName = document.createElement('div')\n\t\telemName.innerText = name\n\n\t\telem.appendChild(elemName)\n\n\t\tif (role === null) return elem\n\n\t\tlet elemRole = document.createElement('div')\n\t\telemRole.innerText = name\n\n\t\telem.appendChild(elemRole)\n\n\t\treturn elem\n\t}\n}"],"names":["i","this","buttonsContainer","children","length","classList","remove","userButton","add","subjectsButton","BX","ajax","get","page","itemsPerPage","res","console","log","edFormatsButton","citiesButton","_classPrivateMethodGet","_this2","JSON","parse","IDPrefix","dataArea","lastChild","appendChild","ID","name","elemIDPrefix","role","elem","document","createElement","style","display","justifyContent","id","elemID","innerText","elemName","elemRole","options","babelHelpers","_classPrivateMethodInitSpec","_classPrivateFieldInitSpec","writable","value","Type","isStringFilled","buttonsContainerID","Error","getElementById","dataAreaID","userButtonID","onclick","_this","subjectsButtonID","edFormatsButtonID","citiesButtonID"],"mappings":"6WAA+B,4KAoM9B,aA7GC,IAAK,IAAIA,EAAI,EAAGA,EAAIC,KAAKC,iBAAiBC,SAASC,OAAQJ,IAC1DC,KAAKC,iBAAiBC,SAASH,GAAGK,UAAUC,OAAO,sBAEpDL,KAAKM,WAAWF,UAAUG,IAAI,sBAC9B,aAIA,IAAK,IAAIR,EAAI,EAAGA,EAAIC,KAAKC,iBAAiBC,SAASC,OAAQJ,IAC1DC,KAAKC,iBAAiBC,SAASH,GAAGK,UAAUC,OAAO,sBAEpDL,KAAKQ,eAAeJ,UAAUG,IAAI,sBAElCE,GAAGC,KAAKC,IACP,mBACA,CACCC,uCAAMZ,QACNa,+CAAcb,UAEf,SAACc,GACAC,QAAQC,IAAIF,MAGd,aAIA,IAAK,IAAIf,EAAI,EAAGA,EAAIC,KAAKC,iBAAiBC,SAASC,OAAQJ,IAC1DC,KAAKC,iBAAiBC,SAASH,GAAGK,UAAUC,OAAO,sBAEpDL,KAAKiB,gBAAgBb,UAAUG,IAAI,sBAEnCE,GAAGC,KAAKC,IACP,oBACA,CACCC,uCAAMZ,QACNa,+CAAcb,UAEf,SAACc,GACAC,QAAQC,IAAIF,MAGd,aAIA,IADD,WACUf,EAAI,EAAGA,EAAIC,KAAKC,iBAAiBC,SAASC,OAAQJ,IAC1DC,KAAKC,iBAAiBC,SAASH,GAAGK,UAAUC,OAAO,sBAEpDL,KAAKkB,aAAad,UAAUG,IAAI,sBAEhCE,GAAGC,KAAKC,IACP,iBACA,CACCC,uCAAMZ,QACNa,+CAAcb,UAEf,SAACc,GACAC,QAAQC,IAAIF,GACZK,cAAAC,EAAoBC,KAAKC,MAAMR,OAGjC,WAEcA,GAEdK,iBAAAnB,KAA4Bc,EAAK,SACjC,WAEsBA,EAAKS,GAE3B,KAAOvB,KAAKwB,SAASC,WACpBzB,KAAKwB,SAASC,UAAUpB,SAGzB,IAAK,IAAIN,EAAI,EAAGA,EAAKe,EAAIX,OAAQJ,IAChCC,KAAKwB,SAASE,cACb1B,eAAAA,KAAyBc,EAAIf,GAAO,GAAGe,EAAIf,GAAS,KAAGwB,IAGzD,WAEmBI,EAAIC,EAAMC,GAC9B,IAD4CC,yDAAO,KAE9CC,EAAOC,SAASC,cAAc,OAClCF,EAAK3B,UAAUG,IAAI,OACnBwB,EAAKG,MAAMC,QAAU,OACrBJ,EAAKG,MAAME,eAAiB,gBAC5BL,EAAKM,GAAKR,EAAeF,EAEzB,IAAIW,EAASN,SAASC,cAAc,OACpCK,EAAOC,UAAYZ,EAEnBI,EAAKL,YAAYY,GAEjB,IAAIE,EAAWR,SAASC,cAAc,OAKtC,GAJAO,EAASD,UAAYX,EAErBG,EAAKL,YAAYc,GAEJ,OAATV,EAAe,OAAOC,EAE1B,IAAIU,EAAWT,SAASC,cAAc,OAKtC,OAJAQ,EAASF,UAAYX,EAErBG,EAAKL,YAAYe,GAEVV,eAzLR,aACA,WADYW,yDAAU,GAErB,GAFuBC,oCAAAC,UAAAA,UAAAA,UAAAA,UAAAA,UAAAA,UAAAA,UAAAC,UAAAC,YAAAC,MALR,IAACF,UAAAC,YAAAC,MACJ,IAACF,UAAAC,YAAAC,MACE,IAACF,UAAAC,YAAAC,MACA,IAACF,UAAAC,YAAAC,MACJ,KAGRC,OAAKC,eAAeP,EAAQQ,oBAChC,MAAM,IAAIC,MAAM,+CAKjB,GAFAnD,KAAKC,iBAAmB+B,SAASoB,eAAeV,EAAQQ,qBAEnDlD,KAAKC,iBACT,MAAM,IAAIkD,4CAAqCT,EAAQQ,mCAIxD,IAAKF,OAAKC,eAAeP,EAAQW,YAChC,MAAM,IAAIF,MAAM,+CAKjB,GAFAnD,KAAKwB,SAAWQ,SAASoB,eAAeV,EAAQW,aAE3CrD,KAAKwB,SACT,MAAM,IAAI2B,4CAAqCT,EAAQW,2BAIxD,IAAKL,OAAKC,eAAeP,EAAQY,cAChC,MAAM,IAAIH,MAAM,yCAKjB,GAFAnD,KAAKM,WAAa0B,SAASoB,eAAeV,EAAQY,eAE7CtD,KAAKM,WACT,MAAM,IAAI6C,4CAAqCT,EAAQY,6BAMxD,GAHAtD,KAAKM,WAAWiD,QAAU,WAAOpC,cAAAqC,KAG5BR,OAAKC,eAAeP,EAAQe,kBAChC,MAAM,IAAIN,MAAM,yCAKjB,GAFAnD,KAAKQ,eAAiBwB,SAASoB,eAAeV,EAAQe,mBAEjDzD,KAAKQ,eACT,MAAM,IAAI2C,4CAAqCT,EAAQe,iCAMxD,GAHAzD,KAAKQ,eAAe+C,QAAU,WAAOpC,cAAAqC,KAGhCR,OAAKC,eAAeP,EAAQgB,mBAChC,MAAM,IAAIP,MAAM,yCAKjB,GAFAnD,KAAKiB,gBAAkBe,SAASoB,eAAeV,EAAQgB,oBAElD1D,KAAKiB,gBACT,MAAM,IAAIkC,4CAAqCT,EAAQgB,kCAMxD,GAHA1D,KAAKiB,gBAAgBsC,QAAU,WAAOpC,cAAAqC,KAGjCR,OAAKC,eAAeP,EAAQiB,gBAChC,MAAM,IAAIR,MAAM,yCAKjB,GAFAnD,KAAKkB,aAAec,SAASoB,eAAeV,EAAQiB,iBAE/C3D,KAAKkB,aACT,MAAM,IAAIiC,4CAAqCT,EAAQiB,+BAGxD3D,KAAKkB,aAAaqC,QAAU,WAAOpC,cAAAqC"}